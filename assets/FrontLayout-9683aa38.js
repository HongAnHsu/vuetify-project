import{p as w,m as z,a as X,g as I,u as E,c as a,b as oe,d as le,e as Q,f as W,h as Z,t as R,i as ne,j as se,k as ee,l as re,n as ie,s as T,o as f,q as ue,V as te,r as F,v as $,w as ce,x as q,y as de,z as H,A as ve,B as me,C as ge,D as fe,E as be,F as he,G as ye,H as M,I as xe,J as Ve,K as L,L as ke,M as Se,N as Be,O as _e,P as Te,Q as we,R as pe,S as Ce,T as Ne,U as Pe,W as Ae,X as Y,Y as Le,Z as Re,_ as Ie,$ as Ee,a0 as $e,a1 as g,a2 as N,a3 as k,a4 as h,a5 as S,a6 as D,a7 as P,a8 as He,a9 as O,aa as j,ab as U,ac as G,ad as A,ae as De,af as Ue,ag as J}from"./index-683e0e9e.js";import{V as Me,a as Fe}from"./VNavigationDrawer-beb33d25.js";import{V as Ye}from"./VContainer-29d54f78.js";const ze=w({text:String,...z(),...X()},"VToolbarTitle"),Xe=I()({name:"VToolbarTitle",props:ze(),setup(e,c){let{slots:t}=c;return E(()=>{const i=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[i&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(s=t.default)==null?void 0:s.call(t)])]}})}),{}}}),qe=[null,"prominent","default","comfortable","compact"],ae=w({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>qe.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...oe(),...z(),...le(),...Q(),...X({tag:"header"}),...W()},"VToolbar"),K=I()({name:"VToolbar",props:ae(),setup(e,c){var u;let{slots:t}=c;const{backgroundColorClasses:i,backgroundColorStyles:s}=Z(R(e,"color")),{borderClasses:l}=ne(e),{elevationClasses:y}=se(e),{roundedClasses:d}=ee(e),{themeClasses:b}=re(e),{rtlClasses:x}=ie(),n=T(!!(e.extended||(u=t.extension)!=null&&u.call(t))),m=f(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),v=f(()=>n.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ue({VBtn:{variant:"text"}}),E(()=>{var r;const o=!!(e.title||t.title),V=!!(t.image||e.image),B=(r=t.extension)==null?void 0:r.call(t);return n.value=!!(e.extended||B),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,l.value,y.value,d.value,b.value,x.value,e.class],style:[s.value,e.style]},{default:()=>[V&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(F,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(te,{key:"image-img",cover:!0,src:e.image},null)]),a(F,{defaults:{VTabs:{height:$(m.value)}}},{default:()=>{var _,p,C;return[a("div",{class:"v-toolbar__content",style:{height:$(m.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(_=t.prepend)==null?void 0:_.call(t)]),o&&a(Xe,{key:"title",text:e.title},{text:t.title}),(p=t.default)==null?void 0:p.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(C=t.append)==null?void 0:C.call(t)])])]}}),a(F,{defaults:{VTabs:{height:$(v.value)}}},{default:()=>[a(ce,null,{default:()=>[n.value&&a("div",{class:"v-toolbar__extension",style:{height:$(v.value)}},[B])]})]})]})}),{contentHeight:m,extensionHeight:v}}}),Oe=w({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function je(e){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=c;let i=0;const s=q(null),l=T(0),y=T(0),d=T(0),b=T(!1),x=T(!1),n=f(()=>Number(e.scrollThreshold)),m=f(()=>de((n.value-l.value)/n.value||0)),v=()=>{const u=s.value;!u||t&&!t.value||(i=l.value,l.value="window"in u?u.pageYOffset:u.scrollTop,x.value=l.value<i,d.value=Math.abs(l.value-n.value))};return H(x,()=>{y.value=y.value||l.value}),H(b,()=>{y.value=0}),ve(()=>{H(()=>e.scrollTarget,u=>{var V;const o=u?document.querySelector(u):window;o&&o!==s.value&&((V=s.value)==null||V.removeEventListener("scroll",v),s.value=o,s.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),me(()=>{var u;(u=s.value)==null||u.removeEventListener("scroll",v)}),t&&H(t,v,{immediate:!0}),{scrollThreshold:n,currentScroll:l,currentThreshold:d,isScrollActive:b,scrollRatio:m,isScrollingUp:x,savedScroll:y}}const Ge=w({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ae(),...ge(),...Oe(),height:{type:[Number,String],default:64}},"VAppBar"),Je=I()({name:"VAppBar",props:Ge(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const i=q(),s=fe(e,"modelValue"),l=f(()=>{var _;const r=new Set(((_=e.scrollBehavior)==null?void 0:_.split(" "))??[]);return{hide:r.has("hide"),inverted:r.has("inverted"),collapse:r.has("collapse"),elevate:r.has("elevate"),fadeImage:r.has("fade-image")}}),y=f(()=>{const r=l.value;return r.hide||r.inverted||r.collapse||r.elevate||r.fadeImage||!s.value}),{currentScroll:d,scrollThreshold:b,isScrollingUp:x,scrollRatio:n}=je(e,{canScroll:y}),m=f(()=>e.collapse||l.value.collapse&&(l.value.inverted?n.value>0:n.value===0)),v=f(()=>e.flat||l.value.elevate&&(l.value.inverted?d.value>0:d.value===0)),u=f(()=>l.value.fadeImage?l.value.inverted?1-n.value:n.value:void 0),o=f(()=>{var p,C;if(l.value.hide&&l.value.inverted)return 0;const r=((p=i.value)==null?void 0:p.contentHeight)??0,_=((C=i.value)==null?void 0:C.extensionHeight)??0;return r+_});be(f(()=>!!e.scrollBehavior),()=>{xe(()=>{l.value.hide?l.value.inverted?s.value=d.value>b.value:s.value=x.value||d.value<b.value:s.value=!0})});const{ssrBootStyles:V}=he(),{layoutItemStyles:B}=ye({id:e.name,order:f(()=>parseInt(e.order,10)),position:R(e,"location"),layoutSize:o,elementSize:T(void 0),active:s,absolute:R(e,"absolute")});return E(()=>{const[r]=K.filterProps(e);return a(K,M({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":u.value,height:void 0,...V.value},e.style]},r,{collapse:m.value,flat:v.value}),t)}),{}}}),Ke=w({...Ve({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Qe=I()({name:"VAppBarNavIcon",props:Ke(),setup(e,c){let{slots:t}=c;return E(()=>a(L,M(e,{class:["v-app-bar-nav-icon"]}),t)),{}}});const We=w({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ke,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...z(),...Se({location:"top end"}),...Q(),...X(),...W(),...Be({transition:"scale-rotate-transition"})},"VBadge"),Ze=I()({name:"VBadge",inheritAttrs:!1,props:We(),setup(e,c){const{backgroundColorClasses:t,backgroundColorStyles:i}=Z(R(e,"color")),{roundedClasses:s}=ee(e),{t:l}=_e(),{textColorClasses:y,textColorStyles:d}=Te(R(e,"textColor")),{themeClasses:b}=we(),{locationStyles:x}=pe(e,!0,n=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(n)?+(e.offsetY??0):["left","right"].includes(n)?+(e.offsetX??0):0));return E(()=>{const n=Number(e.content),m=!e.max||isNaN(n)?e.content:n<=+e.max?n:`${e.max}+`,[v,u]=Ce(c.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,M({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},u,{style:e.style}),{default:()=>{var o,V;return[a("div",{class:"v-badge__wrapper"},[(V=(o=c.slots).default)==null?void 0:V.call(o),a(Ne,{transition:e.transition},{default:()=>{var B,r;return[Pe(a("span",M({class:["v-badge__badge",b.value,t.value,s.value,y.value],style:[i.value,d.value,e.inline?{}:x.value],"aria-atomic":"true","aria-label":l(e.label,n),"aria-live":"polite",role:"status"},v),[e.dot?void 0:c.slots.badge?(r=(B=c.slots).badge)==null?void 0:r.call(B):e.icon?a(Y,{icon:e.icon},null):m]),[[Ae,e.modelValue]])]}})])]}})}),{}}}),et=""+new URL("123-d40fd239.png",import.meta.url).href,tt={prepend:"#prepend"},at={append:"#append"},ot={prepend:"#prepend"},lt=U("h1",{style:{"text-shadow":"0.1em 0.1em 0.2em rgb(23, 22, 22)"}},"找。漢堡 FoundBurger",-1),it={__name:"FrontLayout",setup(e){const c=Le(),t=Re(),{isLogin:i,isAdmin:s,cart:l}=Ie(t),{mobile:y}=Ee(),d=f(()=>y.value),b=q(!1),x=f(()=>[{to:"/local",text:"店面資訊",icon:"mdi-map",show:!0},{to:"/login",text:"登入/註冊",icon:"mdi-login",show:!i.value},{to:"/cart",text:"購物車",icon:"mdi-cart",show:i.value},{to:"/orders",text:"訂單紀錄",icon:"mdi-format-list-numbered",show:i.value},{to:"/admin",text:"管理",icon:"mdi-cog",show:i.value&&s.value}]),n=async()=>{try{await He.delete("/users/logout"),t.logout(),c({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}})}catch(m){c({text:m.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(m,v)=>{const u=$e("RouterView");return g(),N(P,null,[d.value?(g(),k(Me,{key:0,modelValue:b.value,"onUpdate:modelValue":v[0]||(v[0]=o=>b.value=o),location:"right",temporary:"temporary"},{default:h(()=>[a(De,{nav:"nav"},{default:h(()=>[(g(!0),N(P,null,O(x.value,o=>(g(),N(P,{key:o.to},[o.show?(g(),k(j,{key:0,to:o.to},{default:h(()=>[U("template",tt,[a(Y,{icon:o.icon},null,8,["icon"])]),U("template",at,[o.to==="/cart"?(g(),k(Ze,{key:0,color:"success",content:D(l).toString()},null,8,["content"])):S("",!0)]),a(G,null,{default:h(()=>[A(J(o.text),1)]),_:2},1024)]),_:2},1032,["to"])):S("",!0)],64))),128)),D(i)?(g(),k(j,{key:0,onClick:n,style:{color:"white"}},{default:h(()=>[U("template",ot,[a(Y,{icon:"mdi-logout"})]),a(G,null,{default:h(()=>[A("登出")]),_:1})]),_:1})):S("",!0)]),_:1})]),_:1},8,["modelValue"])):S("",!0),a(Je,{color:"#f90",style:{"box-shadow":"2px 2px 2px 1px rgba(0, 0, 0, 0.4)"}},{default:h(()=>[a(Ye,{class:"d-flex align-center"},{default:h(()=>[a(L,{to:"/",active:!1},{default:h(()=>[a(te,{src:et}),lt]),_:1}),a(Ue),d.value?(g(),k(Qe,{key:0,onClick:v[1]||(v[1]=o=>b.value=!0),color:"white"})):S("",!0),d.value?S("",!0):(g(!0),N(P,{key:1},O(x.value,o=>(g(),N(P,{key:o.to},[o.show?(g(),k(L,{key:0,variant:"text","prepend-icon":o.icon,to:o.to,color:"white",style:{"box-shadow":"2px 2px 2px 1px rgba(0, 0, 0, 0.4)",left:"-2%"}},{default:h(()=>[A(J(o.text),1)]),_:2},1032,["prepend-icon","to"])):S("",!0)],64))),128))]),_:1})]),_:1}),!d.value&&D(i)?(g(),k(L,{key:1,variant:"text","prepend-icon":"mdi-logout",onClick:n,color:"white"},{default:h(()=>[A("登出")]),_:1})):S("",!0),!d.value&&D(i)?(g(),k(L,{key:2,variant:"text","prepend-icon":"mdi-logout",onClick:n,color:"white"},{default:h(()=>[A("登出")]),_:1})):S("",!0),a(Fe,{style:{background:"black"}},{default:h(()=>[(g(),k(u,{key:m.$route.path}))]),_:1})],64)}}};export{it as default};
