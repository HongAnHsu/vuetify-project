import{O as x,x as f,T as b,W as l,Y as g,Z as s,c as u,as as w,a8 as t,X as c,a4 as p,$ as h,a2 as a}from"./index-c0c4ce88.js";import{V as y}from"./VContainer-a94b9390.js";import{V as m,a as k}from"./VRow-a89e93f3.js";const V=t("h1",{style:{"text-decoration":"underline",color:"white","text-shadow":"0.1em 0.1em 0.2em rgb(218, 102, 102)"},class:"text-center"},"訂單管理",-1),B=t("thead",{style:{background:"orange","text-shadow":"0.1em 0.1em 0.2em rgb(100, 100, 100)"}},[t("tr",null,[t("th",null,"編號"),t("th",null,"時間"),t("th",null,"用戶"),t("th",null,"金額"),t("th",null,"商品")])],-1),D={__name:"OrdersView",setup(C){const _=x(),i=f([]);return(async()=>{try{const{data:n}=await b.get("/orders/all");i.value.push(...n.result.map(o=>(o.total=o.cart.reduce((e,r)=>e+r.product.price*r.quantity,0),o)))}catch(n){_({text:n.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(n,o)=>(l(),g(y,null,{default:s(()=>[u(k,null,{default:s(()=>[u(m,{cols:"12"},{default:s(()=>[V]),_:1}),u(m,{cols:"12",style:{"box-shadow":"2px 2px 2px 4px rgba(255, 255, 255, 0.7)",background:"white","font-size":"24px"}},{default:s(()=>[u(w,null,{default:s(()=>[B,t("tbody",null,[(l(!0),c(h,null,p(i.value,(e,r)=>(l(),c("tr",{key:e._id},[t("td",null,a(r+1),1),t("td",null,a(new Date(e.date).toLocaleString()),1),t("td",null,a(e.user.account),1),t("td",null,a(e.total),1),t("ul",null,[(l(!0),c(h,null,p(e.cart,d=>(l(),c("li",{key:d._id},a(d.product.name)+" * "+a(d.quantity),1))),128))])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{D as default};
